(function(t){function e(e){for(var r,n,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var r={},a={app:0},o=[];function n(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=r,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"074c":function(t,e,s){},"0a17":function(t,e,s){"use strict";s("3077")},"0b60":function(t,e,s){"use strict";s("e505")},"0e38":function(t,e,s){},"0efa":function(t,e,s){},"117a":function(t,e,s){},"19bd":function(t,e,s){},2033:function(t,e,s){"use strict";s("daac")},"241e":function(t,e,s){"use strict";s("7a65")},2709:function(t,e,s){},"2fe4":function(t,e,s){"use strict";s("b8b9")},3077:function(t,e,s){},"361a":function(t,e,s){},"392a":function(t,e,s){"use strict";s("a392")},"40f7":function(t,e,s){"use strict";s("2709")},"43e3":function(t,e,s){},4553:function(t,e,s){"use strict";s("c974")},"464d":function(t,e,s){},4920:function(t,e,s){},"4d79":function(t,e,s){"use strict";s("117a")},"4e62":function(t,e,s){},"4f0d":function(t,e,s){"use strict";s("6673")},5624:function(t,e,s){"use strict";s("361a")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("d1e78"),s("15f5");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"app"}},[s("v-main",[t.$route.name.startsWith("Login")?t._e():s("Sidebar"),s("router-view",{staticClass:"animated fadeIn"}),s("FormsModal"),s("v-dialog",{staticClass:"pdf-dialog",attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.$store.state.pdfDialog,callback:function(e){t.$set(t.$store.state,"pdfDialog",e)},expression:"$store.state.pdfDialog"}},[s(t.$store.state.pdfTemp,{tag:"component"})],1)],1)],1)},o=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar-core"},[t._m(0),s("div",{staticClass:"menu-container"},[s("router-link",{staticClass:"menu-item",staticStyle:{"text-decoration":"none"},attrs:{to:"/dashboard"}},["Dashboard"==t.$route.name?s("span",{staticClass:"mr-5 animated rubberBand",staticStyle:{border:"2px solid #1976d2",height:"25px"}}):t._e(),s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-tachometer-alt")]),s("p",[t._v("Dashboard")])],1),s("div",{staticClass:"link-container"},[s("router-link",{staticClass:"menu-item",staticStyle:{"text-decoration":"none"},attrs:{to:"/orders"}},["Order"==t.$route.name?s("span",{staticClass:"mr-5 animated rubberBand",staticStyle:{border:"2px solid #1976d2",height:"25px"}}):t._e(),s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-truck-loading")]),s("p",[t._v("Orders")])],1),s("v-icon",{staticClass:"add-icon",staticStyle:{"font-size":"28px",position:"relative",bottom:"1px"},attrs:{color:"#0163d1"},on:{click:function(e){return t.newOrder()}}},[t._v("fas fa-plus-square")])],1),s("div",{staticClass:"link-container"},[s("router-link",{staticClass:"menu-item",staticStyle:{"text-decoration":"none"},attrs:{to:"/products"}},["Product"==t.$route.name?s("span",{staticClass:"mr-5 animated rubberBand",staticStyle:{border:"2px solid #1976d2",height:"25px"}}):t._e(),s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-boxes")]),s("p",[t._v("Products")])],1),s("v-icon",{staticClass:"add-icon",staticStyle:{"font-size":"28px",position:"relative",bottom:"1px"},attrs:{color:"#0163d1"},on:{click:function(e){return t.addProduct()}}},[t._v("fas fa-plus-square")])],1)],1),s("div",{staticClass:"setting-logout"},[s("router-link",{staticClass:"settings",staticStyle:{"text-decoration":"none"},attrs:{to:"/settings"}},["Settings"==t.$route.name?s("span",{staticClass:"mr-5 animated rubberBand",staticStyle:{border:"2px solid #1976d2",height:"25px"}}):t._e(),s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-sliders-h")]),s("p",[t._v("Settings")])],1),s("div",{staticClass:"logout",staticStyle:{"text-decoration":"none"},on:{click:function(e){return t.logout()}}},[s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-sign-out-alt")]),s("p",[t._v("Log out")])],1)],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("div"),s("h3",{staticClass:"mt-3"},[t._v("CHICAM")])])}],l={name:"Sidebar",data:function(){return{}},created:function(){console.log(this.$route)},methods:{logout:function(){var t=this;this.$store.dispatch("getReq",{url:"dashboard/signout",params:{},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(e){e.logout&&(t.$session.destroy(),t.$router.push({name:"Login"}))}})},newOrder:function(){this.$store.state.formsDialog=!0,this.$store.state.formName="Order",this.$store.state.formsTemp="OrderStepper"},addProduct:function(){this.$store.state.formsDialog=!0,this.$store.state.product.addProductForm=!0,this.$store.state.formName="New Product",this.$store.state.formsTemp="ProductForm"}}},c=l,d=(s("4553"),s("2877")),u=s("6544"),p=s.n(u),m=s("132d"),f=Object(d["a"])(c,n,i,!1,null,"7e819a8e",null),v=f.exports;p()(f,{VIcon:m["a"]});var h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{staticClass:"stepper-dialog",attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.$store.state.formsDialog,callback:function(e){t.$set(t.$store.state,"formsDialog",e)},expression:"$store.state.formsDialog"}},[s("v-toolbar",{attrs:{dark:"",color:"#15141c"}},[s("h3",{staticStyle:{color:"#fff"}},[t._v("New "+t._s(t.$store.state.formName)+".")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.$store.state.formsDialog=!1,t.reloadPage()}}},[s("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),s(t.$store.state.formsTemp,{tag:"component"})],1)},g=[],b=s("5530"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-stepper",{staticClass:"order-stepper pt-5",staticStyle:{"padding-left":"70px"},attrs:{vertical:""},model:{value:t.orderFormStep,callback:function(e){t.orderFormStep=e},expression:"orderFormStep"}},[s("v-stepper-step",{attrs:{complete:t.orderFormStep>1,step:"1"}},[t._v(" Customer Informtions ")]),s("v-stepper-content",{attrs:{step:"1"}},[s("CustomerInformationsForm",{attrs:{orderstep:t.orderFormStep},on:{updatestep:function(e){t.orderFormStep=2}}})],1),s("v-stepper-step",{attrs:{complete:t.orderFormStep>2,step:"2"}},[t._v(" Order ")]),s("v-stepper-content",{attrs:{step:"2"}},[s("OrderForm",{attrs:{orderstep:t.orderFormStep},on:{updateprevstep:function(e){t.orderFormStep=1},updatestep:function(e){t.orderFormStep=3}}})],1),s("v-stepper-step",{attrs:{complete:t.orderFormStep>3,step:"3"}},[t._v(" Payment Informtions ")]),s("v-stepper-content",{attrs:{step:"3"}},[s("PaymentForm",{attrs:{orderFormStep:t.orderFormStep},on:{updateprevstep:function(e){t.orderFormStep=2},submit:function(e){return t.addOrder()}}})],1)],1)},y=[],$=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"orderForm",staticClass:"order-form animated"},[s("p",{staticClass:"order-form-err-msg mb-5"}),s("div",{staticClass:"product-chips-container mt-3 mb-5"}),s("v-select",{staticStyle:{width:"100%"},attrs:{rules:[t.$store.state.rules.required],items:t.vehiculeItemsArr,label:"Choose Vehicle*",outlined:""},on:{change:function(e){return t.filteredProducts()}},model:{value:t.$store.state.order.vehicule,callback:function(e){t.$set(t.$store.state.order,"vehicule",e)},expression:"$store.state.order.vehicule"}}),s("div",{staticClass:"brands-profiles-select"},[s("v-flex",{attrs:{xs12:"",sm12:"",md5:"",lg5:"",xl5:""}},[s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.brandsItemsArr,label:"Choose Brands*",outlined:"",chips:"",multiple:""},on:{change:function(e){return t.filteredProducts()}},model:{value:t.$store.state.order.brands,callback:function(e){t.$set(t.$store.state.order,"brands",e)},expression:"$store.state.order.brands"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:"",xl6:""}},[s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.profileItemsArr,label:"Choose profiles*",outlined:"",multiple:"",chips:""},on:{change:function(e){return t.filteredProducts()}},model:{value:t.$store.state.order.profiles,callback:function(e){t.$set(t.$store.state.order,"profiles",e)},expression:"$store.state.order.profiles"}})],1)],1),s("div",{staticClass:"products-fields"},[s("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:"",xl6:""}},[s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectItemsArr,label:"Choose Product*",outlined:""},model:{value:t.$store.state.order.product,callback:function(e){t.$set(t.$store.state.order,"product",e)},expression:"$store.state.order.product"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md2:"",lg2:"",xl2:""}},[s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Quantity*",type:"number",required:"",outlined:""},model:{value:t.$store.state.order.quantity,callback:function(e){t.$set(t.$store.state.order,"quantity",e)},expression:"$store.state.order.quantity"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("v-btn",{staticClass:"fot-weight-bold white--text mr-2",attrs:{depressed:"",height:"55",width:"100%",color:"#1976d2"},on:{click:function(e){return t.addProduct()}}},[t._v(" Add product ")])],1)],1),s("div",{staticClass:"btn-container"},[s("v-btn",{staticClass:"fot-weight-bold white--text mr-2",attrs:{depressed:"",height:"50",width:"20%",color:"#1976d2"},on:{click:function(e){return t.updatePreviousStep(t.orderStep)}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Previous")])]),s("v-btn",{staticClass:"fot-weight-bold white--text",attrs:{depressed:"",height:"50",width:"20%",color:"#1976d2"},on:{click:function(e){return t.updateStep(t.orderStep)}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Next")])])],1)],1)}),C=[],x=(s("99af"),s("c740"),s("4160"),s("caad"),s("c975"),s("a434"),s("a9e3"),s("ac1f"),s("1276"),s("159b"),s("2909")),k=s("2f62"),D={name:"OrderForm",props:["orderStep"],computed:Object(b["a"])({},Object(k["b"])({products:"product/getProducts"})),data:function(){return{selectItemsArr:[],brandsItemsArr:[],vehiculeItemsArr:["Car","Truck"],profileItemsArr:[]}},created:function(){this.allBrands(),this.allProfiles()},methods:{filteredProducts:function(){var t=this,e=t.$store,s={brands:e.state.order.brands},r={profiles:e.state.order.profiles};t.selectItemsArr=[],e.state.order.product=null,null!=e.state.order.vehicule&&e.state.order.brands.length>0&&e.state.order.profiles.length>0&&this.$store.dispatch("getReq",{url:"product/filter_products",params:{vehicle:e.state.order.vehicule,brands:s,profiles:r},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){console.log(s),s.tire.forEach((function(e){t.selectItemsArr.push(e.size+"-"+e.quantity)})),e.getters["setData"]([e.state.product.filteredProductsArr,[s]])}})},allBrands:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/brands",params:{},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){JSON.parse(s).forEach((function(e){t.brandsItemsArr.push(e.fields.name)})),e.getters["setData"]([e.state.product.BrandssArr,JSON.parse(s)])}})},allProfiles:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/profiles",params:{},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){JSON.parse(s).forEach((function(e){t.profileItemsArr.push(e.fields.name)})),e.getters["setData"]([e.state.product.ProfilesArr,JSON.parse(s)])}})},createChip:function(t,e,s,r,a,o,n){console.log(t);var i=this,l=document.querySelector(".product-chips-container"),c=document.createElement("div"),d=document.createElement("p"),u=document.createElement("p"),p=document.createElement("p"),m=document.createElement("p"),f=document.createElement("p"),v=document.createElement("i");return c.className="ma-2 pl-3 pr-3 pb-2 pt-2 animated fadeInUp",c.id=n,c.style.borderRadius="100px",c.style.backgroundColor="#15141c",c.style.display="flex",c.style.flexDirection="row",c.style.justifyContent="center",c.style.alignItems="center",d.textContent=e,d.style.textAlign="center",d.style.fontSize="15px",d.style.margin="auto",d.style.color="white",p.textContent="["+r+"]",p.style.textAlign="center",p.style.fontSize="15px",p.style.margin="auto",p.style.color="white",m.textContent="["+a+"]",m.style.textAlign="center",m.style.fontSize="15px",m.style.margin="auto",m.style.color="white",f.textContent="["+o+"]",f.style.textAlign="center",f.style.fontSize="15px",f.style.margin="auto",f.style.color="white",u.textContent=" ( "+s+" ) ",u.style.textAlign="center",u.style.fontSize="15px",u.style.margin="auto",u.style.color="white",v.className="fas fa-times pr-2",v.style.fontSize="15px",v.style.position="relative",v.style.left="8px",v.style.cursor="pointer",v.style.color="white",c.appendChild(d),c.appendChild(m),c.appendChild(p),c.appendChild(f),c.appendChild(u),c.appendChild(v),v.addEventListener("click",(function(t){i.$store.state.order.productArr.splice(c.id,1),t.currentTarget.parentNode.style.display="none",t.currentTarget.parentNode.remove(),0!=c.id&&(c.id-=1),0==l.children.length&&(i.$store.state.order.productArr=[]),console.log(c)})),c},addProduct:function(){var t=document.querySelector(".product-chips-container"),e=document.querySelector(".order-form-err-msg"),s=this,r=s.$store.state.order,a=s.$store.getters["getRandomString"](5);if(null!=r.product&&null!=r.quantity&&r.quantity>0){var o=s.$store.state.order.productArr.findIndex((function(t){return t.name==r.product})),n=s.$store.state.order.productArr.findIndex((function(t){return t.vehicule==r.vehicule})),i=[],l=[];r.brands.forEach((function(t){var e=s.$store.state.order.productArr.findIndex((function(e){return e.brands==t}));-1!=e?i.push(!0):i.push(!1)})),r.profiles.forEach((function(t){var e=s.$store.state.order.productArr.findIndex((function(e){return e.profiles==t}));-1!=e?l.push(!0):l.push(!1)}));var c=r.product.split("-");if(-1==o||i.includes(!1)||l.includes(!1)||-1==n){var d={name:c[0],qty:r.quantity,brand:Object(x["a"])(r.brands),profile:Object(x["a"])(r.profiles),vehicule:r.vehicule};s.$store.state.order.productArr.push(d);var u=s.$store.state.order.productArr.indexOf(d),p=s.createChip(a,c[0],r.quantity,r.vehicule,Object(x["a"])(r.brands),Object(x["a"])(r.profiles),u);t.appendChild(p),i.length=0,l.length=0,console.log(s.$store.state.order.productArr)}else e.innerHTML="Product already added"}else e.innerHTML="Fields are empty or quantity is 0"},updateStep:function(t){var e=this,s=e.$store.state.order,r=document.querySelector(".order-form-err-msg"),a=document.querySelector(".v-messages__message");if(null!=s.product&&s.quantity>0){var o=s.product.split("-");s.product=o[0];var n=Number(o[1])>Number(s.quantity);n?document.body.contains(a)?r.innerHTML=a.textContent:this.$emit("updatestep",t):alert("The quantity ordered (".concat(s.quantity,") is greater than the quantity of product in stock (").concat(o[1],")"))}else r.innerHTML="Fields are empty"},updatePreviousStep:function(t){this.$emit("updateprevstep",t)}}},P=D,w=(s("bd5b"),s("8336")),S=s("0e8f"),O=s("4bd4"),A=s("b974"),q=s("8654"),F=Object(d["a"])(P,$,C,!1,null,"63d63f80",null),T=F.exports;p()(F,{VBtn:w["a"],VFlex:S["a"],VForm:O["a"],VSelect:A["a"],VTextField:q["a"]});var I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"customerInfoForm",staticClass:"customerinfo-form animated fadeInUp"},[s("p",{staticClass:"form-err-msg"}),s("div",{staticClass:"customer-founded-container"},[s("v-text-field",{attrs:{label:"Email",required:"",outlined:"",type:"email"},on:{input:function(e){return t.getCredentials()}},model:{value:t.$store.state.order.email,callback:function(e){t.$set(t.$store.state.order,"email",e)},expression:"$store.state.order.email"}}),s("p",{staticClass:"customer-founded"})],1),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Name*",required:"",outlined:""},model:{value:t.$store.state.order.name,callback:function(e){t.$set(t.$store.state.order,"name",e)},expression:"$store.state.order.name"}}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"TelNumber*",required:"",outlined:""},model:{value:t.$store.state.order.telNumber,callback:function(e){t.$set(t.$store.state.order,"telNumber",e)},expression:"$store.state.order.telNumber"}}),s("v-text-field",{attrs:{label:"Address",required:"",outlined:""},model:{value:t.$store.state.order.address,callback:function(e){t.$set(t.$store.state.order,"address",e)},expression:"$store.state.order.address"}}),s("div",{staticClass:"btn-container"},[s("v-btn",{staticClass:"fot-weight-bold white--text",attrs:{depressed:"",height:"50",width:"20%",color:"#1976d2"},on:{click:function(e){return t.updateStep(t.orderStep)}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Next")])])],1)],1)},E=[],V={name:"CustomerInfoForm",props:["orderStep"],computed:Object(b["a"])({},Object(k["b"])({})),data:function(){return{}},created:function(){},methods:{updateStep:function(t){var e=this,s=e.$store.state.order,r=document.querySelector(".form-err-msg"),a=document.querySelector(".v-messages__message");null!=s.name&&null!=s.telNumber?document.body.contains(a)?r.innerHTML=a.textContent:this.$emit("updatestep",t):r.innerHTML="Fields are empty"},getCredentials:function(){var t=this.$store.state.order.email,e=/\S+@\S+\.\S+/,s=this,r=document.querySelector(".customer-founded"),a=this.$store.state.order;null!=t&&e.test(t)&&this.$store.dispatch("getReq",{url:"customer/credentials_form_auto_fill",params:{email:t},auth:s.$session.get("token"),csrftoken:s.$session.get("token"),callback:function(t){console.log(t),t.founded&&(r.innerHTML="Email credentials founds",a.email=t.credentials[0].email,a.name=t.credentials[0].name,a.address=t.credentials[0].address,a.telNumber=t.credentials[0].tel_number)}})}}},N=V,j=(s("5624"),Object(d["a"])(N,I,E,!1,null,"7b455e2b",null)),M=j.exports;p()(j,{VBtn:w["a"],VForm:O["a"],VTextField:q["a"]});var z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"paymentForm",staticClass:"payment-form animated"},[s("p",{staticClass:"payment-form-err-msg mb-5"}),s("v-menu",{staticClass:"start-date",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s("v-text-field",t._g(t._b({attrs:{label:"Start","prepend-icon":"mdi-calendar",readonly:"",required:"",outlined:""},model:{value:t.$store.state.order.startDate,callback:function(e){t.$set(t.$store.state.order,"startDate",e)},expression:"$store.state.order.startDate"}},"v-text-field",a,!1),r))]}}]),model:{value:t.menuStart,callback:function(e){t.menuStart=e},expression:"menuStart"}},[s("v-date-picker",{attrs:{"allowed-dates":t.allowedDates},on:{input:function(e){t.menuStart=!1}},model:{value:t.$store.state.order.startDate,callback:function(e){t.$set(t.$store.state.order,"startDate",e)},expression:"$store.state.order.startDate"}})],1),s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectPayInArr,label:"Pay in*",outlined:""},model:{value:t.$store.state.order.payIn,callback:function(e){t.$set(t.$store.state.order,"payIn",e)},expression:"$store.state.order.payIn"}}),"Terms"==t.$store.state.order.payIn?s("div",{staticClass:"pay-interval-times"},[s("v-flex",{attrs:{xs12:"",sm12:"",md8:"",lg8:"",xl8:""}},[s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectPayIntervalArr,label:"Payment Interval*",outlined:""},model:{value:t.$store.state.order.payInterval,callback:function(e){t.$set(t.$store.state.order,"payInterval",e)},expression:"$store.state.order.payInterval"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Times*",type:"number",required:"",outlined:""},model:{value:t.$store.state.order.times,callback:function(e){t.$set(t.$store.state.order,"times",e)},expression:"$store.state.order.times"}})],1)],1):t._e(),s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectPayMethodArr,label:"Payment Method*",outlined:""},model:{value:t.$store.state.order.payMethod,callback:function(e){t.$set(t.$store.state.order,"payMethod",e)},expression:"$store.state.order.payMethod"}}),s("div",{staticClass:"btn-container"},[s("v-btn",{staticClass:"fot-weight-bold white--text mr-2",attrs:{depressed:"",height:"50",width:"20%",color:"#1976d2"},on:{click:function(e){return t.updatePreviousStep(t.orderStep)}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Previous")])]),s("v-btn",{staticClass:"fot-weight-bold white--text",attrs:{depressed:"",height:"50",width:"20%",color:"#1976d2"},on:{click:function(e){return t.submitOrder(t.orderStep)}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Add Order")])])],1)],1)},R=[],B={name:"OrderForm",props:["orderStep"],computed:Object(b["a"])({},Object(k["b"])({products:"product/getProducts",paymentMethods:"product/getPaymentMethods"})),data:function(){return{menuStart:!1,selectPayInArr:["Terms","Once"],selectPayMethodArr:[],selectPayIntervalArr:["Daily","Weekly","Monthly"]}},created:function(){this.allProducts(),this.getPaymentMethods()},methods:{allowedDates:function(t){return t>=(new Date).toISOString()},allProducts:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/products",params:{date:null},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){s.tire.forEach((function(e){t.selectItemsArr.push(e.size)})),e.getters["setData"]([e.state.product.productsArr,[s]])}})},getPaymentMethods:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"payment/payment_methods",params:{},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){s.forEach((function(e){t.selectPayMethodArr.push(e.method)})),console.log(s),e.getters["setData"]([e.state.order.paymentMethodsArr,[s]])}})},submitOrder:function(t){var e=this,s=e.$store.state.order,r=document.querySelector(".payment-form-err-msg"),a=document.querySelector(".v-messages__message");null!=s.payIn&&null!=s.payMethod?"Once"==s.payIn||null!=s.payInterval&&s.times>0?document.body.contains(a)?r.innerHTML=a.textContent:this.$emit("submit",t):r.innerHTML="Times and pay interval should not be empty":r.innerHTML="Fields are empty"},updatePreviousStep:function(t){this.$emit("updateprevstep",t)}}},H=B,L=(s("2fe4"),s("2e4b")),U=s("e449"),J=Object(d["a"])(H,z,R,!1,null,"1acea7e8",null),X=J.exports;p()(J,{VBtn:w["a"],VDatePicker:L["a"],VFlex:S["a"],VForm:O["a"],VMenu:U["a"],VSelect:A["a"],VTextField:q["a"]});var Q={name:"OrderFormStep",props:[],components:{OrderForm:T,CustomerInformationsForm:M,PaymentForm:X},computed:{},data:function(){return{orderFormStep:1}},created:function(){},methods:{customerOrder:function(t){var e=this;this.$store.dispatch("order/getOrderDetails",{url:"order/order_details",params:{customerId:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){e.$store.state.infoTempName="OrderDetails",e.$store.getters["setData"]([e.$store.state.order.customerOrderArr,[t]])}})},addOrder:function(){var t=this,e=t.$store.state.order,s={email:e.email,name:e.name,address:e.address,tel_number:e.telNumber,times:e.times,start:e.startDate,ordered_products:e.productArr,payment_interval:e.payInterval,pay_in:e.payIn,method:e.payMethod};this.$store.dispatch("postReq",{url:"order/new_order",params:s,auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(e){e.created&&(t.customerOrder(e.order_id),t.$store.state.pdfTemp="OrderPdf",t.$store.state.pdfDialog=!0)}})}}},K=Q,W=(s("4f0d"),s("7e85")),G=s("e516"),Y=s("56a4"),Z=Object(d["a"])(K,_,y,!1,null,"d86c2b44",null),tt=Z.exports;p()(Z,{VStepper:W["a"],VStepperContent:G["a"],VStepperStep:Y["a"]});var et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-form-core"},[s("v-form",{ref:"productForm",staticClass:"product-form animated"},[s("p",{staticClass:"product-form-err-msg mb-5"}),s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectVehicleArr,label:"Select Vehicle*",outlined:""},model:{value:t.vehicle,callback:function(e){t.vehicle=e},expression:"vehicle"}}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Size*",required:"",outlined:""},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Price*",type:"number",required:"",outlined:""},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Quantity*",type:"number",required:"",outlined:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectBrandArr,label:"Select Brands*",multiple:"",chips:"",outlined:""},model:{value:t.brands,callback:function(e){t.brands=e},expression:"brands"}}),s("v-select",{attrs:{rules:[t.$store.state.rules.required],items:t.selectProfileArr,label:"Select Profiles*",multiple:"",chips:"",outlined:""},model:{value:t.profiles,callback:function(e){t.profiles=e},expression:"profiles"}}),s("div",{staticClass:"btn-container"},[t.$store.state.product.addProductForm?s("v-btn",{staticClass:"fot-weight-bold white--text",attrs:{depressed:"",height:"50",width:"20%",color:"#1976d2"},on:{click:function(e){return t.submitProduct()}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Add Product")])]):s("v-btn",{staticClass:"fot-weight-bold white--text",attrs:{large:"",depressed:"",height:"50",width:"30%",color:"#1976d2"},on:{click:function(e){return t.submitUpdatedProduct()}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto"}},[t._v("Update Product")])])],1)],1)],1)},st=[],rt={name:"ProductForm",props:[],computed:Object(b["a"])({},Object(k["b"])({productDetails:"product/getProductDetails"})),data:function(){return{vehicle:null,size:null,price:null,quantity:null,selectVehicleArr:["Car","Truck"],selectBrandArr:[],brands:[],selectProfileArr:[],profiles:[]}},created:function(){var t=this;this.allBrands(),this.allProfiles(),this.$store.state.product.addProductForm||setTimeout((function(){t.fillProductForm()}),200)},methods:{allProducts:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/products",params:{date:null},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){s.tire.forEach((function(e){t.selectItemsArr.push(e.size)})),e.getters["setData"]([e.state.product.productsArr,[s]])}})},allBrands:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/brands",params:{},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){JSON.parse(s).forEach((function(e){t.selectBrandArr.push(e.fields.name)})),e.getters["setData"]([e.state.product.BrandssArr,JSON.parse(s)])}})},allProfiles:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/profiles",params:{},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(s){JSON.parse(s).forEach((function(e){t.selectProfileArr.push(e.fields.name)})),e.getters["setData"]([e.state.product.ProfilesArr,JSON.parse(s)])}})},productsDetails:function(t){var e=this;this.$store.dispatch("getReq",{url:"product/product_details",params:{product_id:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){console.log(t),e.$store.state.infoTempName="ProductDetails",e.$store.getters["setData"]([e.$store.state.product.productDetailsArr,[t]])}})},addProduct:function(){var t=this,e={brands:t.brands},s={profiles:t.profiles},r={size:t.size,price:t.price,quantity:t.quantity,vehicle:t.vehicle,brands:e,profiles:s};this.$store.dispatch("postReq",{url:"product/new_product",params:r,auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(e){console.log("added",e),e.created&&(t.productsDetails(e.product_id),t.$store.state.pdfTemp="ProductPdf",t.$store.state.pdfDialog=!0)}})},submitProduct:function(){var t=this,e=document.querySelector(".product-form-err-msg"),s=document.querySelector(".v-messages__message");console.log(t.vehicle),console.log(t.profiles),null!=t.vehicle&&null!=t.size&&t.brands.length>0&&t.profiles.length>0?null!=t.price&&t.price>0&&null!=t.quantity&&t.quantity>0?document.body.contains(s)?e.innerHTML=s.textContent:t.$store.state.product.addProductForm?t.addProduct():t.submitUpdatedProduct():e.innerHTML="Price and quantity should not be <= 0":e.innerHTML="Fields are empty"},fillProductForm:function(){var t=this;t.vehicle=t.productDetails[0].products[0].vehicle,t.size=t.productDetails[0].products[0].tire[0].size,t.price=t.productDetails[0].products[0].tire[0].price,t.quantity=t.productDetails[0].products[0].tire[0].quantity,t.productDetails[0].products[0].brands.forEach((function(e){t.brands.push(e.name)})),t.productDetails[0].products[0].profiles.forEach((function(e){t.profiles.push(e.name)}))},submitUpdatedProduct:function(){var t=this,e={brands:t.brands},s={profiles:t.profiles},r={size:t.size,price:t.price,quantity:t.quantity,vehicle:t.vehicle,brands:e,profiles:s,tire_id:t.productDetails[0].products[0].tire[0].id};this.$store.dispatch("putReq",{url:"product/update_product",params:r,auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(e){console.log("added",e),e.updated&&(t.productsDetails(e.product_id),t.$store.state.pdfTemp="ProductPdf",t.$store.state.pdfDialog=!0)}})}}},at=rt,ot=(s("b366"),Object(d["a"])(at,et,st,!1,null,"557749dc",null)),nt=ot.exports;p()(ot,{VBtn:w["a"],VForm:O["a"],VSelect:A["a"],VTextField:q["a"]});var it={name:"Order",props:[],components:{OrderStepper:tt,ProductForm:nt},computed:Object(b["a"])({},Object(k["b"])({})),data:function(){return{}},created:function(){},methods:{reloadPage:function(){window.location.reload()}}},lt=it,ct=(s("241e"),s("169a")),dt=s("2fa4"),ut=s("71d9"),pt=Object(d["a"])(lt,h,g,!1,null,"d4b5967c",null),mt=pt.exports;p()(pt,{VBtn:w["a"],VDialog:ct["a"],VIcon:m["a"],VSpacer:dt["a"],VToolbar:ut["a"]});var ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pdf-core"},[s("div",{staticClass:"pdf-header"},[s("h2",[t._v("CHICAM")]),s("p",{staticStyle:{position:"relative",top:"10px"}},[s("span",{staticClass:"font-weight-bold"},[t._v("Date")]),s("br"),t._v(" "+t._s((new Date).toDateString())+" ")])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"pdf-body"},[s("div",{staticClass:"customer-info-flex"},[s("h3",{staticClass:"mb-5"},[t._v("Customer Information")]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Name")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].credential[0].name))])]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Email")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].credential[0].email))])]),t.orderDeteails[0].credential[0].address?s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Address")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].credential[0].address))])]):t._e(),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Tel. Number")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].credential[0].tel_number))])])]),s("div",{staticClass:"payment-flex"},[s("h3",{staticClass:"mb-5"},[t._v("Payments Method")]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Start Date")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].customer[0].start))])]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Pay In")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].payment[0].pay_in))])]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold mb-1"},[t._v("Payment Interval")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].payment[0].payment_interval))])]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold",attrs:{"mb-1":""}},[t._v("Method")]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.orderDeteails[0].method[0].name))])])])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"pdf-footer"},[s("h3",{staticClass:"mb-5 mt-5"},[t._v("Orders")]),s("div",{staticClass:"info-format"},[s("p",{staticClass:"font-weight-bold"},[t._v("Order Place on")]),s("p",[t._v(t._s(t.parseDate(t.orderDeteails[0].order.order_on)))])]),s("table",{staticClass:"order-table mt-5"},[t._m(0),t._l(t.orderDeteails[0].products,(function(e,r){return s("tr",{key:r},[s("td",[t._v(t._s(e.products[0].size))]),s("td",t._l(e.brands,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name))])})),0),s("td",[t._v(t._s(e.vehicule[0].name))]),s("td",t._l(e.profiles,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name))])})),0),s("td",[t._v(t._s(e.products[0].price))]),s("td",[t._v(t._s(e.ordered_product.quantity))])])}))],2),s("div",{staticClass:"total-price pb-3"},[s("v-btn",{staticStyle:{position:"relative",top:"70px",color:"white","text-transform":"capitalize","font-weight":"bold"},attrs:{large:"",color:"#1976d2"},on:{click:function(e){return t.reloadPAge()}}},[t._v("Back")]),s("v-btn",{staticStyle:{position:"relative",top:"70px",color:"white","text-transform":"capitalize","font-weight":"bold"},attrs:{large:"",color:"#1976d2"},on:{click:function(e){return t.printOrder()}}},[t._v("Print PDF")]),s("h3",[s("span",{staticStyle:{color:"#1976d2"}},[t._v("Total Price: "+t._s(t.formatPrice(t.orderDeteails[0].paying))+"FRS")])])],1)])])},vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Size")]),s("th",[t._v("Brands")]),s("th",[t._v("Vehical")]),s("th",[t._v("Profiles")]),s("th",[t._v("Price")]),s("th",[t._v("Quantity")])])}],ht=(s("b680"),s("d3b7"),s("25f0"),s("5319"),{name:"OrderPDF",computed:Object(b["a"])({},Object(k["b"])({orderDeteails:"order/getCustomerOrder"})),created:function(){console.log("order details",self.orderDeteails)},methods:{printOrder:function(){window.print(),window.location.reload(),window.addEventListener("onafterprint",(function(){window.location.reload()}))},formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},reloadPAge:function(){window.location.reload()},parseDate:function(t){return new Date(t).toDateString()}}}),gt=ht,bt=(s("e2a7"),Object(d["a"])(gt,ft,vt,!1,null,"25f14417",null)),_t=bt.exports;p()(bt,{VBtn:w["a"]});var yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pdf-core"},[s("div",{staticClass:"pdf-header"},[s("h2",[t._v("CHICAM")]),s("p",{staticStyle:{position:"relative",top:"10px"}},[s("span",{staticClass:"font-weight-bold"},[t._v("Date")]),s("br"),t._v(" "+t._s((new Date).toDateString())+" ")])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"pdf-body"},[s("div",{staticClass:"customer-info-flex"},[s("h3",[t._v("Product")]),s("p",[t._v("Size: "+t._s(t.productDetails[0].products[0].tire[0].size))]),s("p",[t._v("Price: "+t._s(t.productDetails[0].products[0].tire[0].price))]),s("p",[t._v("Add on: "+t._s(t.productDetails[0].products[0].add_on))]),s("p",[t._v("Quantity: "+t._s(t.productDetails[0].products[0].tire[0].quantity))]),s("p",[t._v("Vehicule: "+t._s(t.productDetails[0].products[0].vehicle))])]),s("div",{staticClass:"payment-flex"},[s("h3",[t._v("Brands")]),s("div",{staticClass:"brands"},t._l(t.productDetails[0].products[0].brands,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name)),s("span",{staticClass:"ml-2"})])})),0)])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"pdf-footer"},[s("h3",[t._v("Profiles")]),s("div",{staticClass:"profiles"},t._l(t.productDetails[0].products[0].profiles,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name)),s("span",{staticClass:"ml-2"})])})),0),s("div",{staticClass:"total-price"},[s("v-btn",{staticStyle:{position:"relative",top:"70px",color:"white","text-transform":"capitalize","font-weight":"bold"},attrs:{large:"",color:"#1976d2"},on:{click:function(e){return t.reloadPAge()}}},[t._v("Back")]),s("v-btn",{staticStyle:{position:"relative",top:"70px",color:"white","text-transform":"capitalize","font-weight":"bold"},attrs:{large:"",color:"#1976d2"},on:{click:function(e){return t.printOrder()}}},[t._v("Print PDF")])],1)])])},$t=[],Ct={name:"OrderPDF",computed:Object(b["a"])({},Object(k["b"])({productDetails:"product/getProductDetails"})),created:function(){},methods:{printOrder:function(){window.print(),window.location.reload(),window.addEventListener("onafterprint",(function(){window.location.reload()}))},reloadPAge:function(){window.location.reload()},parseDate:function(t){return new Date(t).toDateString()}}},xt=Ct,kt=(s("0b60"),Object(d["a"])(xt,yt,$t,!1,null,"63c0bd9c",null)),Dt=kt.exports;p()(kt,{VBtn:w["a"]});var Pt={name:"App",components:{Sidebar:v,FormsModal:mt,OrderPdf:_t,ProductPdf:Dt},data:function(){return{}},created:function(){},methods:{createSession:function(){this.$session.has("auth")||(this.$session.start(),this.$session.set("auth",!1)),this.$store.state.AUTHENTICATED=this.$session.get("auth"),console.log(this.$store.state.AUTHENTICATED)}}},wt=Pt,St=(s("dbe3"),s("7496")),Ot=s("f6c4"),At=Object(d["a"])(wt,a,o,!1,null,"29d4fbf4",null),qt=At.exports;p()(At,{VApp:St["a"],VDialog:ct["a"],VMain:Ot["a"]});var Ft=s("8c4f"),Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-core animated fadeIn"},[s("div",{staticClass:"logo mb-5"}),s("h2",{staticClass:"mb-3"},[t._v("CHICAM Signin")]),s("v-form",{ref:"loginForm",staticClass:"login-form"},[s("p",{staticClass:"err-msg mb-2"}),s("v-text-field",{attrs:{rules:[t.$store.state.emailRules,t.$store.state.rules.required],label:"Email",type:"email",required:"",outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Password",type:"password",required:"",outlined:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"btn-container"},[s("v-btn",{attrs:{large:"",color:"#1976d2"},on:{click:function(e){return t.signin()}}},[t._v("Login")]),s("p",{staticClass:"mt-2",on:{click:function(e){t.$store.state.passForgotDialog=!0}}},[t._v("password forgot?")])],1)],1),s("PasswordForgot")],1)},It=[],Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{transition:"dialog-bottom-transition",width:"550","hide-overlay":""},model:{value:t.$store.state.passForgotDialog,callback:function(e){t.$set(t.$store.state,"passForgotDialog",e)},expression:"$store.state.passForgotDialog"}},[s("v-form",{staticClass:"password-forgot-form"},[s("div",{staticClass:"header"},[s("h4",[t._v("Reset your password")])]),s("p",{staticClass:"forgot-err-msg mb-2"}),s("v-text-field",{attrs:{rules:[t.$store.state.emailRules,t.$store.state.rules.required],label:"Email",type:"email",required:"",outlined:""},model:{value:t.$store.state.forgotEmail,callback:function(e){t.$set(t.$store.state,"forgotEmail",e)},expression:"$store.state.forgotEmail"}}),s("div",{staticClass:"btn-container"},[s("v-btn",{attrs:{large:"",color:"#1976d2"},on:{click:function(e){return t.sendNewPassword()}}},[t._v("Reset Password")])],1)],1)],1)},Vt=[],Nt={name:"PasswordForgot",data:function(){return{}},methods:{sendNewPassword:function(){}}},jt=Nt,Mt=(s("cbc8"),Object(d["a"])(jt,Et,Vt,!1,null,"76e18a24",null)),zt=Mt.exports;p()(Mt,{VBtn:w["a"],VDialog:ct["a"],VForm:O["a"],VTextField:q["a"]});var Rt={name:"Home",components:{PasswordForgot:zt},data:function(){return{email:null,password:null}},created:function(){this.$store.state.infoDrawer=!1},methods:{startSession:function(t,e){this.$session.start(),this.$session.set("token",t),this.$session.set("userId",e),this.$session.set("authenticated",!0)},signin:function(){var t=this,e=document.querySelector(".err-msg"),s=document.querySelector(".v-messages__message");document.body.contains(s)||null==t.email||null==t.password?e.innerHTML="Email and password should not be empty":this.$store.dispatch("publicPostReq",{url:"signin",params:{email:t.email,password:t.password},auth:null,csrftoken:null,callback:function(s){console.log(s),s.authenticate?(t.startSession(s.token,s.id),t.$router.push({name:"Dashboard"})):e.innerHTML=s.msg}})}}},Bt=Rt,Ht=(s("76c2"),Object(d["a"])(Bt,Tt,It,!1,null,"e3a7be80",null)),Lt=Ht.exports;p()(Ht,{VBtn:w["a"],VForm:O["a"],VTextField:q["a"]});var Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return this.$session.has("authenticated")&&this.$session.get("authenticated")?s("div",{staticClass:"dash-core animated fadeIn pb-5"},[s("v-layout",{staticClass:"dash-layout"},[s("v-flex",{staticClass:"left-side",attrs:{xs12:"",sm12:"",md8:"",lg8:"",xl8:""}},[s("div",{staticClass:"counts"},[s("v-flex",{staticClass:"products-count",attrs:{xs12:"",sm12:"",md4:"",lg4:"",xl4:""}},[s("div",{staticClass:"inventory-header"},[s("v-icon",{staticClass:"mb-2 ml-3",staticStyle:{"font-size":"30px"}},[t._v("fas fa-boxes")]),s("p",{staticClass:"ml-3"},[t._v("Inventories")])],1),s("div",{staticClass:"inventory-container"},[s("h1",{staticClass:"display-3 animated bounceIn"},[t._v(t._s(t.products[0].count))])])]),s("v-flex",{staticClass:"paying-counts",attrs:{xs12:"",sm12:"",md4:"",lg4:"",xl4:""}},[s("div",{staticClass:"payment-header"},[s("v-icon",[t._v("fas fa-coins")]),s("p",{staticClass:"mt-1 ml-3"},[t._v("Payments")])],1),s("div",{staticClass:"count-container"},[s("h1",{staticClass:"display-3 animated bounceIn"},[t._v(t._s(t.customerPayments[0].count))])])]),s("v-flex",{staticClass:"orders-count",attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("div",{staticClass:"order-header"},[s("v-icon",[t._v("fas fa-truck-loading")]),s("p",{staticClass:"animated bounceIn ml-3"},[t._v("Orders")])],1),s("div",{staticClass:"order-container"},[s("h1",{staticClass:"display-3 animated bounceIn"},[t._v(t._s(t.orders[0].count))])])])],1),t.orders[0].count>0?s("div",{staticClass:"orders"},[s("div",{staticClass:"orders-header",staticStyle:{"margin-left":"2%"}},[s("p",[s("v-icon",{attrs:{color:"#1e1d2b",medium:""}},[t._v("fas fa-truck-loading")]),s("span",[t._v("Orders")])],1)]),s("OrdersTemp",{attrs:{orderArr:t.orders}})],1):s("div",{staticClass:"no-orders"},[s("v-icon",[t._v("fas fa-truck-loading")]),s("p",{staticClass:"mt-3"},[t._v("No Orders")])],1)]),s("v-flex",{staticClass:"rigth-side",attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("div",{staticClass:"calendar-payments"},[s("div",{staticClass:"calendar"},[s("Calendar",{on:{orders:t.getOrders,payments:t.getPayments,addedProducts:t.getAddedProducts}})],1),t.customerPayments[0].count>0?s("div",{staticClass:"payment-container"},[s("div",{staticClass:"payment-header"},[s("p",[s("v-icon",{attrs:{color:"#15141c",medium:""}},[t._v("fas fa-coins")]),s("span",[t._v("Schedulded Pyaments")])],1)]),t._l(t.customerPayments[0].payments,(function(e,r){return s("div",{key:r,staticClass:"payments mt-5 ml-5 animated fadeInUp",on:{click:function(s){t.$store.state.infoDrawer=!0,t.paymentDetails(e.customer[0].id)}}},[s("p",{staticClass:"user-info"},[s("v-icon",{staticClass:"mr-2",attrs:{color:"#1e1d2b"}},[t._v("fas fa-user-circle")]),s("span",[t._v(t._s(e.customer[0].name))]),s("span",{staticClass:"ml-3"},[t._v("("+t._s(e.payment_interval)+")")])],1),s("PaymentProgressBar",{staticClass:"ml-3",staticStyle:{position:"relative",top:"3px"},attrs:{times:e.times,paymentDatesArr:e.payment_dates}})],1)}))],2):s("div",{staticClass:"no-payments"},[s("v-icon",[t._v("fas fa-coins")]),s("p",{staticClass:"mt-3"},[t._v("No payment scheduled for "+t._s(t.paymentDate)+" ")])],1)])])],1),s("InformationModal",{attrs:{bColor:"#15141c",border:"1px solid #15141c",closeClr:"white"}})],1):t._e()},Jt=[],Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress-bar-core"},[s("v-progress-linear",{staticClass:"ml-3 mt-3",attrs:{color:"#0163d1",height:"7",rounded:"",value:t.paymentProgressValue}})],1)},Qt=[],Kt={name:"ProgressBar",props:["times","paymentDatesArr"],computed:{paymentProgressValue:function(){var t=this,e=(new Date).toISOString().split("T")[0],s=100/this.times,r=[];return this.paymentDatesArr.forEach((function(s){e>=s&&(r=[],r.push(t.paymentDatesArr.indexOf(s)+1))})),r[0]*s}},data:function(){return{}},methods:{}},Wt=Kt,Gt=(s("392a"),s("8e36")),Yt=Object(d["a"])(Wt,Xt,Qt,!1,null,"6f0b8052",null),Zt=Yt.exports;p()(Yt,{VProgressLinear:Gt["a"]});var te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-temp-core"},t._l(t.orderArr[0].order,(function(e,r){return s("v-layout",{key:r,staticClass:"order-temp-layout animated fadeInUp",on:{click:function(s){s.stopPropagation(),t.$store.state.infoDrawer=!0,t.customerOrder(e.credentials.customer_id)}}},[s("v-flex",{staticClass:"customer-name",attrs:{xs12:"",sm12:"",md2:"",lg2:"",xl2:""}},[s("v-icon",{attrs:{medium:"",color:"#1e1d2b"}},[t._v("fas fa-user-circle")]),s("p",[t._v(t._s(e.credentials.name))])],1),s("v-flex",{staticClass:"product-name",attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("p",[s("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#1e1d2b"}},[t._v("fas fa-boxes")]),t._v(" "+t._s(e.ordered_products[0].product[0].size)+" "),s("span",[t._v("( "+t._s(e.ordered_products[0].ordered_product.quantity)+"x )")]),e.ordered_products.length>=2?s("span",{staticClass:"ml-2"},[t._v("[ +"+t._s(e.ordered_products.length-1)+" ]")]):t._e()],1)]),s("v-flex",{staticClass:"date",attrs:{xs12:"",sm12:"",md4:"",lg3:"",xl3:""}},[s("p",[s("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#1e1d2b"}},[t._v("fas fa-calendar-alt")]),t._v(" "+t._s(t.parseDate(e.order.order_on))+" ")],1)]),s("v-flex",{staticClass:"price",attrs:{xs12:"",sm12:"",md2:"",lg2:"",xl2:""}},[s("p",[s("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#1e1d2b"}},[t._v("fas fa-coins")]),t._v(" "+t._s(t.formatPrice(e.paying))+"FRS ")],1)]),s("v-flex",{staticClass:"payment-method nav-layout hidden-md-and-down",attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("p",[s("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"#1e1d2b"}},[t._v("fas fa-credit-card")]),t._v(" "+t._s(e.payment.method[0].name)+" ")],1)])],1)})),1)},ee=[],se={name:"OrderTemp",props:["orderArr"],computed:{},data:function(){return{}},created:function(){console.log(this.orderArr[0].order)},methods:{parseDate:function(t){return new Date(t).toDateString()},formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},customerOrder:function(t){var e=this;this.$store.dispatch("order/getOrderDetails",{url:"order/order_details",params:{customerId:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){e.$store.state.infoTempName="OrderDetails",e.$store.getters["setData"]([e.$store.state.order.customerOrderArr,[t]])}})}}},re=se,ae=(s("40f7"),s("a722")),oe=Object(d["a"])(re,te,ee,!1,null,"089323d4",null),ne=oe.exports;p()(oe,{VFlex:S["a"],VIcon:m["a"],VLayout:ae["a"]});var ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-navigation-drawer",{staticClass:"info-drawer",style:{backgroundColor:t.bColor,border:t.border},attrs:{fixed:"",height:"100vh",right:"",width:"50%",overlay:!1},model:{value:t.$store.state.infoDrawer,callback:function(e){t.$set(t.$store.state,"infoDrawer",e)},expression:"$store.state.infoDrawer"}},[s("div",{staticClass:"header ml-2",on:{click:function(e){t.$store.state.infoDrawer=!1}}},[s("v-icon",{attrs:{medium:"",color:t.closeClr}},[t._v("fas fa-times")])],1),s(t.$store.state.infoTempName,{tag:"component"})],1)},le=[],ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-details-core"},[s("div",{staticClass:"details-container"},[s("div",{staticClass:"customer"},[s("h3",[t._v("Customer Details")]),s("p",[t._v("Name: "+t._s(t.orderDeteails[0].credential[0].name))]),t.orderDeteails[0].credential[0].email?s("p",[t._v("Email: "+t._s(t.orderDeteails[0].credential[0].email))]):s("p",[t._v("Email: None")]),t.orderDeteails[0].credential[0].address?s("p",[t._v("Address: "+t._s(t.orderDeteails[0].credential[0].address))]):t._e(),s("p",[t._v("Tel.number"+t._s(t.orderDeteails[0].credential[0].tel_number))])]),s("div",{staticClass:"order-details mt-5"},[s("h3",[t._v("Order Details")]),s("p",[t._v("Order on: "+t._s(t.parseDate(t.orderDeteails[0].order.order_on)))]),s("table",{staticClass:"order-table"},[t._m(0),t._l(t.orderDeteails[0].products,(function(e,r){return s("tr",{key:r},[s("td",[t._v(t._s(e.products[0].size))]),s("td",t._l(e.brands,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name))])})),0),s("td",[t._v(t._s(e.vehicule[0].name))]),s("td",t._l(e.profiles,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name))])})),0),s("td",[t._v(t._s(t.formatPrice(e.products[0].price))+"FRS")]),s("td",[t._v(t._s(e.ordered_product.quantity))])])}))],2)]),s("div",{staticClass:"payment-details mt-5"},[s("h3",[t._v("Payment details "),t.orderDeteails[0].payment_helper.completed?s("span",{staticStyle:{}},[t._v("[Payed]")]):s("span",{staticStyle:{color:"magenta"}},[t._v("[Ongoing]")])]),s("p",[t._v("Paying: "+t._s(t.formatPrice(t.orderDeteails[0].paying))+"FRS")]),s("p",[t._v("Method: "+t._s(t.orderDeteails[0].method[0].name))]),s("p",[t._v("Pay by terms: "+t._s(t.formatPrice(t.orderDeteails[0].payment_helper.paying_in_terms))+"FRS")]),s("p",[t._v("Pay in: "+t._s(t.orderDeteails[0].payment[0].pay_in))]),s("p",[t._v("Payment Interval: "+t._s(t.orderDeteails[0].payment[0].payment_interval))]),s("p",[t._v("Start Date: "+t._s(t.orderDeteails[0].customer[0].start))]),s("p",[t._v("Times: "+t._s(t.orderDeteails[0].customer[0].times))]),s("div",{staticClass:"payment-dates"},[s("p",[t._v("Payment Dates:")]),t._l(t.orderDeteails[0].payment_helper.paymentDates_end.paying_dates,(function(e,r){return s("div",{key:r,staticClass:"dates ml-2"},[s("p",[t._v(t._s(e)+" ,")])])}))],2)])])])},de=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Size")]),s("th",[t._v("Brands")]),s("th",[t._v("Vehical")]),s("th",[t._v("Profiles")]),s("th",[t._v("Price")]),s("th",[t._v("Quantity")])])}],ue={name:"OrderDetails",computed:Object(b["a"])({},Object(k["b"])({orderDeteails:"order/getCustomerOrder"})),data:function(){return{}},created:function(){},methods:{parseDate:function(t){return new Date(t).toDateString()},formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},removeOrder:function(){}}},pe=ue,me=(s("0a17"),Object(d["a"])(pe,ce,de,!1,null,"d398c6bc",null)),fe=me.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-core"},[s("div",{staticClass:"details-container"},[s("div",{staticClass:"product-details"},[s("h3",[t._v("Product")]),s("p",[t._v("Size: "+t._s(t.productDetails[0].products[0].tire[0].size))]),s("p",[t._v("Price: "+t._s(t.formatPrice(t.productDetails[0].products[0].tire[0].price))+"FRS")]),s("p",[t._v("Add on: "+t._s(t.productDetails[0].products[0].add_on))]),s("p",[t._v("Quantity: "+t._s(t.productDetails[0].products[0].tire[0].quantity))]),s("p",[t._v("Vehicule: "+t._s(t.productDetails[0].products[0].vehicle))])]),s("div",{staticClass:"brands-details mt-5"},[s("h3",[t._v("Brands")]),s("div",{staticClass:"brands"},t._l(t.productDetails[0].products[0].brands,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name)),s("span",{staticClass:"ml-2"})])})),0)]),s("div",{staticClass:"profiles-details"},[s("h3",[t._v("Profiles")]),s("div",{staticClass:"profiles"},t._l(t.productDetails[0].products[0].profiles,(function(e,r){return s("p",{key:r},[t._v(t._s(e.name)),s("span",{staticClass:"ml-2"})])})),0)])])])},he=[],ge={name:"ProductDetails",computed:Object(b["a"])({},Object(k["b"])({productDetails:"product/getProductDetails"})),data:function(){return{}},created:function(){},methods:{formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},be=ge,_e=(s("8c59"),Object(d["a"])(be,ve,he,!1,null,"06dfbe94",null)),ye=_e.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment-details-core"},[s("div",{staticClass:"details-container"},[s("div",{staticClass:"customer"},[s("h3",[t._v("Customer Details")]),s("p",[t._v("Name: "+t._s(t.paymentDetails[0].credentials[0].name))]),t.paymentDetails[0].credentials[0].email?s("p",[t._v("Email: "+t._s(t.paymentDetails[0].credentials[0].email))]):t._e(),s("p",{directives:[{name:"lsee",rawName:"v-lsee"}]},[t._v("Email: None")]),t.paymentDetails[0].credentials[0].address?s("p",[t._v("Address: "+t._s(t.paymentDetails[0].credentials[0].address))]):t._e(),s("p",[t._v("Tel.number: "+t._s(t.paymentDetails[0].credentials[0].tel_number))])]),s("div",{staticClass:"payment-details mt-5"},[s("h3",[t._v("Payment details ")]),s("p",[t._v("Paying: "+t._s(t.formatPrice(t.paymentDetails[0].paying))+"FRS")]),s("p",[t._v("Pay by terms: "+t._s(t.formatPrice(t.paymentDetails[0].paying_term))+"FRS")]),s("p",[t._v("Method: "+t._s(t.paymentDetails[0].methods[0].name))]),s("p",[t._v("Pay in: "+t._s(t.paymentDetails[0].payments[0].pay_in))]),s("p",[t._v("Payment Interval: "+t._s(t.paymentDetails[0].payments[0].payment_interval))]),s("p",[t._v("Times: "+t._s(t.paymentDetails[0].customer[0].times))]),s("p",[t._v("Start Date: "+t._s(t.parseDate(t.paymentDetails[0].customer[0].start)))]),s("p",[t._v("End Date: "+t._s(t.parseDate(t.paymentDetails[0].payment_dates.end)))]),t.dateNow<t.paymentDetails[0].payment_dates.paying_dates[t.paymentDetails[0].payment_dates.paying_dates.length-1]?s("p",[t._v(" Next Payment: "+t._s(t.parseDate(t.nextPaymentDate(t.paymentDetails[0].payment_dates.paying_dates)))+" ")]):t._e()])]),s("div",{staticClass:"details-actions"})])},Ce=[],xe={name:"PaymentDetails",computed:Object(b["a"])({},Object(k["b"])({paymentDetails:"order/getcustomerPayment"})),data:function(){return{dateNow:(new Date).toISOString().split("T")[0]}},created:function(){},methods:{parseDate:function(t){return new Date(t).toDateString()},nextPaymentDate:function(t){var e=(new Date).toISOString().split("T")[0],s=[];return t.forEach((function(r){e>=r&&(s=[],s.push(t.indexOf(r)))})),t[s[0]+1]},formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},removePayment:function(){alert()}}},ke=xe,De=(s("b683"),Object(d["a"])(ke,$e,Ce,!1,null,"563dd0b8",null)),Pe=De.exports,we={name:"InformationModal",props:["bColor","border","closeClr"],components:{PaymentDetails:Pe,ProductDetails:ye,OrderDetails:fe},data:function(){return{}},created:function(){},methods:{}},Se=we,Oe=(s("8813"),s("f774")),Ae=Object(d["a"])(Se,ie,le,!1,null,"12b92306",null),qe=Ae.exports;p()(Ae,{VIcon:m["a"],VNavigationDrawer:Oe["a"]});var Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"calendar-core"},[s("v-date-picker",{ref:"picker",attrs:{"full-width":"",flat:"",color:"#15141c"},on:{"click:date":t.emitEvents},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)},Te=[],Ie={name:"Calendar",data:function(){return{date:(new Date).toISOString().substr(0,10),pickerDate:null,events:[],colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"]}},watch:{},mounted:function(){},created:function(){},methods:{emitEvents:function(t){this.$emit("orders",t),this.$emit("payments",t),this.$emit("addedProducts",t)}}},Ee=Ie,Ve=(s("f4f8"),Object(d["a"])(Ee,Fe,Te,!1,null,"76de7d7a",null)),Ne=Ve.exports;p()(Ve,{VDatePicker:L["a"]});var je={name:"Dashboard",components:{PaymentProgressBar:Zt,OrdersTemp:ne,InformationModal:qe,Calendar:Ne},computed:Object(b["a"])({},Object(k["b"])({products:"product/getProducts",addedProducts:"product/getAddedProducts",orders:"order/getOrders",customerPayments:"order/getPayments"})),data:function(){return{paymentDate:"today"}},beforeCreate:function(){!this.$session.has("authenticated")|!this.$session.get("authenticated")&&this.$router.push({name:"Login"})},created:function(){this.allProducts(),this.getAddedProducts(null),this.getPayments(null),this.getOrders(null),this.$store.state.infoDrawer=!1},methods:{allProducts:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/products",params:{date:null},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(t){e.getters["setData"]([e.state.product.productsArr,[t]])}})},getAddedProducts:function(t){var e=this,s=e.$store;this.$store.dispatch("getReq",{url:"product/come_in",params:{date:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){s.getters["setData"]([s.state.product.addedProductsArr,[t]])}})},getPayments:function(t){var e=this,s=e.$store;this.$store.dispatch("getReq",{url:"order/ongoing_payments",params:{date:t,limit:0},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){s.getters["setData"]([s.state.order.paymentsArr,[t]])}})},paymentDetails:function(t){var e=this;this.$store.dispatch("order/getPaymentDetails",{url:"order/payment_details",params:{customerId:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){e.$store.state.infoTempName="PaymentDetails",e.$store.getters["setData"]([e.$store.state.order.customerPaymentArr,[t]])}})},getOrders:function(t){var e=this,s=e.$store;this.$store.dispatch("getReq",{url:"order/orders",params:{date:t,limit:20},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){s.getters["setData"]([s.state.order.ordersArr,[t]])}})}}},Me=je,ze=(s("2033"),Object(d["a"])(Me,Ut,Jt,!1,null,"c98af172",null)),Re=ze.exports;p()(ze,{VFlex:S["a"],VIcon:m["a"],VLayout:ae["a"]});var Be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-core animated fadeIn"},[s("v-layout",{staticClass:"order-layout"},[s("div",{staticClass:"create-order"},[s("v-btn",{staticClass:"mr-5",attrs:{large:"",rounded:"",color:"#1976d2"},on:{click:function(e){return t.newOrder()}}},[t._v("New Order")])],1),s("div",{staticClass:"flex-container"},[s("v-flex",{staticClass:"orders-flex",attrs:{xs12:"",sm12:"",md8:"",lg9:"",xl9:""}},[s("v-tabs",{attrs:{"background-color":"white",dark:"","slider-color":"#15141c"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",{staticClass:"ml-5"},[s("p",{staticStyle:{color:"#15141c","font-size":"17px","text-transform":"capitalize","font-weight":"bold"}},[s("v-icon",{staticStyle:{"font-size":"30px"},attrs:{color:"#15141c"}},[t._v("fas fa-truck-loading")]),t._v(" Orders ")],1)]),s("v-tab",{staticClass:"ml-5"},[s("p",{staticStyle:{color:"#15141c","font-size":"17px","text-transform":"capitalize","font-weight":"bold"}},[s("v-icon",{staticStyle:{"font-size":"30px"},attrs:{color:"#15141c"}},[t._v("fas fa-coins")]),t._v(" Payments ")],1)])],1),s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[t.orders[0].count>0?s("v-tab-item",{staticClass:"ml-5",staticStyle:{width:"1000px","margin-top":"50px"}},[s("v-flex",{attrs:{xs12:"",sm12:"",md8:"",xl8:"",lg12:""}},[s("OrdersTemp",{attrs:{orderArr:t.orders}})],1)],1):s("v-tab-item",[s("div",{staticClass:"no-orders",staticStyle:{width:"900px","margin-top":"50px"}},[s("v-icon",[t._v("fas fa-truck-loading")]),s("p",{staticClass:"mt-3"},[t._v("No Orders")])],1)]),s("v-tab-item",{staticClass:"ml-5",staticStyle:{width:"970px","margin-top":"50px"}},[t.customerPayments[0].count>0?s("v-flex",{staticClass:"payment-container",attrs:{xs12:"",sm12:"",md8:"",lg10:"",xl12:""}},t._l(t.customerPayments[0].payments,(function(e,r){return s("div",{key:r,staticClass:"payments mt-5 ml-5 animated fadeInUp",on:{click:function(s){t.$store.state.infoDrawer=!0,t.paymentDetails(e.id)}}},[s("p",[s("v-icon",{staticClass:"mr-2",attrs:{color:"#15141c"}},[t._v("fas fa-user-circle")]),s("span",[t._v(t._s(e.customer[0].name))]),s("span",{staticClass:"ml-3"},[t._v("("+t._s(e.payment_interval)+")")])],1),s("p",{staticStyle:{position:"relative",top:"5px","margin-left":"60px"}},[s("v-icon",{staticStyle:{"font-size":"20px"},attrs:{color:"#15141c"}},[t._v("fas fa-credit-card")]),t._v(" "+t._s(e.methods[0].name)+" ")],1),s("PaymentProgressBar",{staticClass:"ml-3",staticStyle:{position:"relative",top:"3px"},attrs:{times:e.times,paymentDatesArr:e.payment_dates}})],1)})),0):s("div",{staticClass:"no-payments"},[s("v-icon",[t._v("fas fa-coins")]),s("p",{staticClass:"mt-3"},[t._v("No payment scheduled ")])],1)],1)],1)],1),s("v-flex",{staticClass:"calendar-flex mt-5 mr-5",attrs:{xs12:"",sm12:"",md4:"",lg3:"",xl3:""}},[s("Calendar",{on:{orders:t.getOrders,payments:t.getPayments}})],1)],1)]),s("InformationModal",{attrs:{bColor:"#15141c",border:"1px solid #15141c",closeClr:"white"}})],1)},He=[],Le={name:"Order",components:{PaymentProgressBar:Zt,OrdersTemp:ne,InformationModal:qe,Calendar:Ne},computed:Object(b["a"])({},Object(k["b"])({orders:"order/getOrders",customerPayments:"order/getPayments"})),data:function(){return{tab:null}},created:function(){this.getOrders(null),this.allPayments(0),this.$store.state.infoDrawer=!1},methods:{getOrders:function(t){var e=this,s=e.$store;this.$store.dispatch("getReq",{url:"order/orders",params:{date:t,limit:0},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){s.getters["setData"]([s.state.order.ordersArr,[t]])}})},allPayments:function(t){var e=this,s=e.$store;this.$store.dispatch("getReq",{url:"order/payments",params:{limit:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){s.getters["setData"]([s.state.order.paymentsArr,[t]])}})},getPayments:function(t){var e=this,s=e.$store;this.$store.dispatch("getReq",{url:"order/ongoing_payments",params:{date:t,limit:0},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){s.getters["setData"]([s.state.order.paymentsArr,[t]])}})},paymentDetails:function(t){var e=this;this.$store.dispatch("order/getPaymentDetails",{url:"order/payment_details",params:{customerId:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){e.$store.state.infoTempName="PaymentDetails",e.$store.getters["setData"]([e.$store.state.order.customerPaymentArr,[t]])}})},newOrder:function(){this.$store.state.formsDialog=!0,this.$store.state.formName="Order",this.$store.state.formsTemp="OrderStepper"}}},Ue=Le,Je=(s("4d79"),s("71a3")),Xe=s("c671"),Qe=s("fe57"),Ke=s("aac8"),We=Object(d["a"])(Ue,Be,He,!1,null,"7dfc9d3e",null),Ge=We.exports;p()(We,{VBtn:w["a"],VFlex:S["a"],VIcon:m["a"],VLayout:ae["a"],VTab:Je["a"],VTabItem:Xe["a"],VTabs:Qe["a"],VTabsItems:Ke["a"]});var Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-core"},[s("v-layout",{staticClass:"product-layout"},[s("div",{staticClass:"add-product"},[s("v-btn",{staticClass:"mr-5",attrs:{large:"",rounded:"",color:"#1976d2"},on:{click:function(e){return t.addProduct()}}},[t._v("Add Product")])],1),s("div",{staticClass:"product-container"},t._l(t.products[0].products,(function(e,r){return s("v-flex",{key:r,staticClass:"prduct-flex",attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl4:""},on:{click:function(s){t.$store.state.infoDrawer=!0,t.productDetails(e.id)}}},[s("div",{staticClass:"product-inner-container"},[s("div",{staticClass:"size"},[s("h3",[t._v(t._s(e.tire.size)+" ("+t._s(t.formatPrice(e.tire.price))+"FRS)")]),s("v-icon",{staticClass:"ml-3",attrs:{large:"",color:"#0163d1"},on:{click:function(e){return t.UpdateProduct()}}},[t._v("fas fa-plus-square")])],1),s("div",{staticClass:"product-qty"},[s("h3",{staticClass:"display-3 mt-3 font-weight-bold"},[t._v(t._s(e.tire.quantity))])]),s("div",{staticClass:"brands"},t._l(e.brands,(function(e,r){return s("p",{key:r},[s("v-chip",{attrs:{ripple:!1,small:""}},[t._v(" "+t._s(e.name)),s("span",{staticClass:"ml-2"})])],1)})),0),s("div",{staticClass:"profiles"},t._l(e.profiles,(function(e,r){return s("p",{key:r},[s("v-chip",{attrs:{ripple:!1,small:""}},[t._v(" "+t._s(e.name)),s("span",{staticClass:"ml-2"})])],1)})),0)])])})),1)]),s("InformationModal",{attrs:{bColor:"#15141c",border:"1px solid #15141c",closeClr:"white"}})],1)},Ze=[],ts={name:"Order",components:{InformationModal:qe},computed:Object(b["a"])({},Object(k["b"])({products:"product/getProducts"})),data:function(){return{}},created:function(){this.allProducts(),this.$store.state.infoDrawer=!1},methods:{allProducts:function(){var t=this,e=t.$store;this.$store.dispatch("getReq",{url:"product/products",params:{date:null},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(t){console.log(t),e.getters["setData"]([e.state.product.productsArr,[t]])}})},formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},addProduct:function(){this.$store.state.formsDialog=!0,this.$store.state.product.addProductForm=!0,this.$store.state.formName="New Product",this.$store.state.formsTemp="ProductForm"},UpdateProduct:function(){this.$store.state.formsDialog=!0,this.$store.state.product.addProductForm=!1,this.$store.state.formName="New Product",this.$store.state.formsTemp="ProductForm"},productDetails:function(t){var e=this;this.$store.dispatch("getReq",{url:"product/product_details",params:{product_id:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){console.log(t),e.$store.state.infoTempName="ProductDetails",e.$store.getters["setData"]([e.$store.state.product.productDetailsArr,[t]])}})}}},es=ts,ss=(s("84e1"),s("cc20")),rs=Object(d["a"])(es,Ye,Ze,!1,null,"12ffc545",null),as=rs.exports;p()(rs,{VBtn:w["a"],VChip:ss["a"],VFlex:S["a"],VIcon:m["a"],VLayout:ae["a"]});var os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-core"},[s("div",{staticClass:"user-data"},[s("div",{staticClass:"user-logo"}),s("v-form",{ref:"userDataForm",staticClass:"user-data-form"},[s("p",{staticClass:"form-err-msg"}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Email*",type:"email",required:"",outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Name*",required:"",outlined:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("p",[t._v("Change Password")]),s("v-text-field",{attrs:{label:"Password*",type:"password",required:"",outlined:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-text-field",{attrs:{label:"Repeat Password*",type:"password",required:"",outlined:""},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}}),s("p",[t._v("Confirn the changes")]),s("div",{staticClass:"btn-container"},[s("v-flex",{attrs:{xs12:"",sm12:"",md9:"",lg9:"",xl9:""}},[s("v-text-field",{attrs:{rules:[t.$store.state.rules.required],label:"Current Password*",type:"password",required:"",outlined:""},model:{value:t.currentPassword,callback:function(e){t.currentPassword=e},expression:"currentPassword"}})],1),s("v-flex",{staticClass:"btn-flex",attrs:{xs12:"",sm12:"",md3:"",lg3:"",xl3:""}},[s("v-btn",{staticClass:"fot-weight-bold white--text mr-2",attrs:{depressed:"",height:"50",width:"70%",color:"#1976d2"},on:{click:function(e){return t.updateUserData()}}},[s("p",{staticStyle:{"font-size":"17px",margin:"auto",color:"white"}},[t._v("Update")])])],1)],1)],1)],1)])},ns=[],is={name:"UserDate",computed:Object(b["a"])({},Object(k["b"])({userData:"dashboard/getUserData"})),data:function(){return{email:null,name:null,password:null,currentPassword:null,repeatPassword:null}},created:function(){this.getUserData(this.$session.get("userId")),this.$store.state.infoDrawer=!1},methods:{getUserData:function(t){var e=this;this.$store.dispatch("getReq",{url:"dashboard/get_user_data",params:{user_id:t},auth:e.$session.get("token"),csrftoken:e.$session.get("token"),callback:function(t){e.email=t.email,e.name=t.name,e.$store.getters["setData"]([e.$store.state.dashboard.userDataArr,[t]])}})},updateUserData:function(){var t=this,e=document.querySelector(".form-err-msg"),s=document.querySelector(".v-messages__message");if(null!=t.email&&null!=t.name&&null!==t.currentPassword)if(document.body.contains(s))e.innerHTML=s.textContent;else{if(null!=t.password&&null!=t.repeatPassword&&t.password!=t.repeatPassword)return e.innerHTML="The passwords are not equals",!1;this.$store.dispatch("putReq",{url:"dashboard/update_user_data",params:{user_id:t.$session.get("userId"),email:t.email,name:t.name,current_password:t.currentPassword,password:t.password?null!=t.password:null},auth:t.$session.get("token"),csrftoken:t.$session.get("token"),callback:function(e){console.log(e),e.updated&&t.getUserData(e.user_id)}})}else e.innerHTML="Fields are empty"}}},ls=is,cs=(s("59bf"),Object(d["a"])(ls,os,ns,!1,null,"156144de",null)),ds=cs.exports;p()(cs,{VBtn:w["a"],VFlex:S["a"],VForm:O["a"],VTextField:q["a"]}),r["a"].use(Ft["a"]);var us=[{path:"/",name:"Login",component:Lt},{path:"/dashboard",name:"Dashboard",component:Re},{path:"/orders",name:"Order",component:Ge},{path:"/products",name:"Product",component:as},{path:"/settings",name:"Settings",component:ds}],ps=new Ft["a"]({mode:"history",base:"/",routes:us}),ms=ps,fs={namespaced:!0,state:{userDataArr:[]},getters:{getUserData:function(t){return t.userDataArr}},mutations:{},actions:{}},vs={namespaced:!0,state:{productsArr:[],addedProductsArr:[],BrandssArr:[],filteredProductsArr:[],productDetailsArr:[],addProductForm:!0},getters:{getProducts:function(t){return t.productsArr},getAddedProducts:function(t){return t.addedProductsArr},getBrandss:function(t){return t.BrandssArr},getProfiles:function(t){return t.filteredProductsArr},getProductDetails:function(t){return t.productDetailsArr}},mutations:{},actions:{}},hs=s("bc3a"),gs=s.n(hs),bs={namespaced:!0,state:{ordersArr:[],paymentsArr:[],customerOrderArr:[],customerPaymentArr:[],paymentMethodsArr:[],email:null,name:null,address:null,telNumber:null,times:2,startDate:(new Date).toISOString().substr(0,10),product:null,productArr:[],quantity:1,vehicule:null,brands:[],profiles:[],payInterval:null,payIn:null,payMethod:null},getters:{getOrders:function(t){return t.ordersArr},getPayments:function(t){return t.paymentsArr},getCustomerOrder:function(t){return t.customerOrderArr},getcustomerPayment:function(t){return t.customerPaymentArr},getPaymentMethods:function(t){return t.paymentMethodsArr}},mutations:{getAxiosCall:function(t,e){gs.a.get("".concat(e.host,"/api/").concat(e.url,"/"),{params:e.params,headers:{"X-CSRFToken":e.csrftoken,Authorization:"token ".concat(e.auth)}}).then((function(t){var s=t.data;e.callback(s)})).catch((function(t){console.log(t)}))}},actions:{getOrderDetails:function(t,e){var s=t.commit,r=t.rootState;s("getAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})},getPaymentDetails:function(t,e){var s=t.commit,r=t.rootState;s("getAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})}}};r["a"].use(k["a"]);var _s=new k["a"].Store({state:{HOST:""!=window.location.port?"http://127.0.0.1:8000":"https://accountancy-tsgf2.ondigitalocean.app",AUTHENTICATED:void 0,usertoken:void 0,rules:{required:function(t){return!!t||"This field is required"},min:function(t){return t.length>=8||"8 characters minimal"},textareaMin:function(t){return t.length>=10||"100 characters minimal"},emailMatch:function(){return"Email and password don't match"}},emailRules:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"Email is not valid"}],passForgotDialog:!1,forgotEmail:"",infoDrawer:!1,infoTempName:null,formsTemp:null,pdfTemp:null,formName:null,formsDialog:!1,pdfDialog:!1},getters:{setData:function(t){return function(e){console.log(t),e[0].length>0&&(e[0].length=0),e[1].forEach((function(t){e[0].push(t)}))}},getRandomString:function(t){return function(e){console.log(t);for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",a=0;a<e;a++)r+=s.charAt(Math.floor(Math.random()*s.length));return r}}},mutations:{splitToArray:function(t,e){var s=e.split(",");return s},get$:function(t,e,s){return e.get(s)},destroy$:function(t,e){e.destroy()},getAxiosCall:function(t,e){gs.a.get("".concat(e.host,"/api/").concat(e.url,"/"),{params:e.params,headers:{"X-CSRFToken":e.csrftoken,Authorization:"token ".concat(e.auth)}}).then((function(t){var s=t.data;e.callback(s)})).catch((function(t){console.log(t)}))},postAxiosCall:function(t,e){var s={body:e.params};gs.a.post("".concat(e.host,"/api/").concat(e.url,"/"),s,{headers:{"X-CSRFToken":e.csrftoken,Authorization:"token ".concat(e.auth)}}).then((function(t){var s=t.data;e.callback(s)})).catch((function(t){console.log(t)}))},publicPostAxiosCall:function(t,e){gs.a.post("".concat(e.host,"/api/").concat(e.url,"/"),{body:e.params,headers:{"X-CSRFToken":e.csrftoken,Authorization:"token ".concat(e.auth)}}).then((function(t){var s=t.data;e.callback(s)})).catch((function(t){console.log(t)}))},putAxiosCall:function(t,e){var s={body:e.params};gs.a.put("".concat(e.host,"/api/").concat(e.url,"/"),s,{headers:{"X-CSRFToken":e.csrftoken,Authorization:"token ".concat(e.auth)}}).then((function(t){var s=t.data;e.callback(s)})).catch((function(t){console.log(t)}))},deleteAxiosCall:function(t,e){gs.a.delete("".concat(e.host,"/api/").concat(e.url,"/"),{params:e.params,headers:{"X-CSRFToken":e.csrftoken,Authorization:"token ".concat(e.auth)}}).then((function(t){var s=t.data;e.callback(s)})).catch((function(t){console.log(t)}))}},actions:{getReq:function(t,e){var s=t.commit,r=t.rootState;s("getAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})},publicPostReq:function(t,e){var s=t.commit,r=t.rootState;s("publicPostAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})},postReq:function(t,e){var s=t.commit,r=t.rootState;s("postAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})},putReq:function(t,e){var s=t.commit,r=t.rootState;s("putAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})},deleteReq:function(t,e){var s=t.commit,r=t.rootState;s("deleteAxiosCall",{url:e.url,params:e.params,auth:e.auth,csrftoken:e.csrftoken,callback:e.callback,host:r.HOST})}},modules:{dashboard:fs,product:vs,order:bs}}),ys=s("9483");Object(ys["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var $s=s("00e4"),Cs=s("0628"),xs=s.n(Cs),ks=s("f309");r["a"].use(ks["a"]);var Ds=new ks["a"]({});r["a"].config.productionTip=!1,r["a"].use($s["a"]),r["a"].use(k["a"]),r["a"].use(xs.a,{persist:!0}),gs.a.defaults.xsrfHeaderName="X-CSRFTOKEN",gs.a.defaults.xsrfCookieName="XCSRF-TOKEN",gs.a.defaults.withCredentials=!1,r["a"].prototype.$axios=gs.a,new r["a"]({created:function(){},router:ms,store:_s,vuetify:Ds,render:function(t){return t(qt)}}).$mount("#app")},"59bf":function(t,e,s){"use strict";s("43e3")},6673:function(t,e,s){},"76c2":function(t,e,s){"use strict";s("4e62")},"7a65":function(t,e,s){},"84e1":function(t,e,s){"use strict";s("4920")},8813:function(t,e,s){"use strict";s("0efa")},"8c59":function(t,e,s){"use strict";s("e749")},"9ee4":function(t,e,s){},a392:function(t,e,s){},b366:function(t,e,s){"use strict";s("f917")},b683:function(t,e,s){"use strict";s("074c")},b8b9:function(t,e,s){},bd5b:function(t,e,s){"use strict";s("0e38")},c974:function(t,e,s){},cbc8:function(t,e,s){"use strict";s("fbb4")},daac:function(t,e,s){},dbe3:function(t,e,s){"use strict";s("19bd")},e2a7:function(t,e,s){"use strict";s("9ee4")},e505:function(t,e,s){},e749:function(t,e,s){},f4f8:function(t,e,s){"use strict";s("464d")},f917:function(t,e,s){},fbb4:function(t,e,s){}});
//# sourceMappingURL=app.cdc304a4.js.map